@use '@/style/mixins' as *;
@use '@/style/variables' as var;

/* 保留滚动条相关样式以保持兼容性 */
.blog-layout {
  width: 100%;
  min-height: 100vh;
  position: relative;
  box-sizing: border-box;

  // 保留原App.scss中的样式，避免破坏性影响
  &::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;

  // 博客内容区域
  .blog-content {
    width: 100%;
    min-height: calc(100vh - 60px); // 减去导航栏高度
    position: relative;
    z-index: 10;
    box-sizing: border-box;
  }

  // 导航器样式 - 完整的导航栏样式集成
  .blog-layout-navigator.navigator {
    // 移除transform覆盖，让Navigator.scss中的动画生效
    // transform: translateX(-50%); // 已移除，避免覆盖滚动动画
    box-sizing: border-box;
    padding: var.$spacing-md var.$spacing-xl;
    margin: 0;
    overflow: visible;
    /* 允许菜单显示 */
    z-index: 1000;
    /* 确保导航在其他元素之上 */

    /* 使移动菜单独立于其父元素的overflow设置 */
    .nav-list {
      transition: right var.$transition-base;

      &.open {
        display: flex !important;
        /* 打开时强制显示 */
        visibility: visible !important;
        /* 确保可见 */
        opacity: 1 !important;
        /* 确保不透明 */
      }
    }
  }

  // 工具栏样式，从App.scss移动过来
  .app-tools {
    position: fixed;
    right: var.$spacing-md;
    bottom: var.$spacing-md;
    z-index: 100;
  }

  // 滚动条样式，从App.scss移动过来
  .app-scroll-bar {
    position: fixed;
    right: 0;
    top: 0;
    z-index: 1000;
  }

  // 回到顶部按钮样式，从App.scss移动过来
  .app-back-to-top {
    position: fixed;
    right: var.$spacing-md;
    bottom: calc(var.$spacing-md + 48px); // WebsiteRecord高度(36px) + 间距(12px)
    z-index: 100;
    opacity: 0;
    visibility: hidden;
    transition: opacity var.$transition-base, visibility var.$transition-base;

    &.visible {
      opacity: 1;
      visibility: visible;
    }

    &.animating {
      animation: floatUp 0.3s ease forwards;
      pointer-events: none;
    }
  }

  // 网站记录样式，从App.scss移动过来
  .app-website-record {
    position: fixed;
    right: var.$spacing-md;
    bottom: var.$spacing-md;
    z-index: 100;
  }
}

// 保留动画，从App.scss移动过来
@keyframes floatUp {
  0% {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    visibility: hidden;
    transform: translateY(-20px);
  }
}

// 确保滚动条隐藏全局设置保持一致
html,
body {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  width: 100%;
  overflow-x: hidden;

  &::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari 和 Opera */
  }

  -ms-overflow-style: none;
  /* IE 和 Edge */
  scrollbar-width: none;
  /* Firefox */
}

// 添加全局 box-sizing 规则
*,
*::before,
*::after {
  box-sizing: inherit;
}
