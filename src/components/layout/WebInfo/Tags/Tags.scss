@use '@/style/mixins' as *;
@use '@/style/mixins' as *;
@use '@/style/glass' as *;
@use '@/style/variables' as var;

.tags {
  width: 100%;
  position: relative;
  border-radius: var.$border-radius-md;
  padding: var.$spacing-md + 0.2rem;
  box-sizing: border-box;
  @include glass-card-complete;

  & {
    overflow: hidden;
    transform: translateY(0) scale(1);
    transition: all 0.3s ease-out;
  }

  // 光晕效果
  .tags-border-glow {
    position: absolute;
    inset: -15px;
    z-index: 1;
    pointer-events: none;
    border-radius: calc(#{var.$border-radius-md} + 15px);
    transition: all 0.3s ease-out;
    mix-blend-mode: normal;
    opacity: 0;
    user-select: none;
  }

  // 标签列表
  .tags-list {
    position: relative;
    z-index: 3;
    display: flex;
    flex-wrap: wrap;
    gap: var.$spacing-sm;
    padding: var.$spacing-xs 0;

    // 标签项目
    .tag-item {
      font-size: var.$font-size-md;
      color: rgba(255, 255, 255, 0.98);
      padding: calc(var.$spacing-sm - 0.1rem) calc(var.$spacing-md - 0.2rem);
      border-radius: var.$border-radius-pill;
      border: 1px solid transparent;
      cursor: pointer;
      transition: var.$transition-base;
      position: relative;
      overflow: hidden;
      font-weight: var.$font-weight-medium;

      // 调整标签背景色，增加颜色饱和度和不透明度
      &:nth-child(6n+1) {
        background: rgba(255, 107, 129, 0.35);

        &:hover {
          background: rgba(255, 107, 129, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:nth-child(6n+2) {
        background: rgba(86, 204, 242, 0.35);

        &:hover {
          background: rgba(86, 204, 242, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:nth-child(6n+3) {
        background: rgba(111, 207, 151, 0.35);

        &:hover {
          background: rgba(111, 207, 151, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:nth-child(6n+4) {
        background: rgba(255, 204, 77, 0.35);

        &:hover {
          background: rgba(255, 204, 77, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:nth-child(6n+5) {
        background: rgba(187, 107, 217, 0.35);

        &:hover {
          background: rgba(187, 107, 217, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:nth-child(6n) {
        background: rgba(250, 130, 49, 0.35);

        &:hover {
          background: rgba(250, 130, 49, 0.45);
          border: 1px solid rgba(255, 255, 255, 0.25);
        }
      }

      &:hover {
        transform: translateY(-1px);
        box-shadow:
          0 6px 16px rgba(0, 0, 0, 0.15),
          0 3px 8px rgba(0, 0, 0, 0.08),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(8px) saturate(150%);
        -webkit-backdrop-filter: blur(8px) saturate(150%);
      }

      // 激活状态
      &.active {
        background: rgba(255, 255, 255, 0.3) !important;
        color: rgba(255, 255, 255, 1);
        font-weight: var.$font-weight-semibold;
        transform: translateY(-1px);
        box-shadow:
          0 6px 16px rgba(0, 0, 0, 0.2),
          0 3px 8px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.4),
          inset 0 -1px 0 rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px) saturate(180%);
        -webkit-backdrop-filter: blur(12px) saturate(180%);
      }
    }
  }

  // 悬停效果 - 参考LatestComments样式，无上浮效果
  &:hover {
    // 流体玻璃背景增强效果 - 使用CSS变量
    background:
      linear-gradient(135deg, var(--glass-white-033) 0%, var(--glass-white-02) 100%),
      linear-gradient(225deg, var(--glass-white-027) 0%, var(--glass-white-01) 100%),
      var(--glass-black-02);

    backdrop-filter: var(--glass-blur-extra) var(--glass-saturation-hover) var(--glass-brightness-hover);
    -webkit-backdrop-filter: var(--glass-blur-extra) var(--glass-saturation-hover) var(--glass-brightness-hover);

    box-shadow:
      0 12px 40px rgba(0, 0, 0, 0.15),
      0 4px 12px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 var(--glass-white-2),
      inset 0 -1px 0 var(--glass-white-08);

    /* 简化的光晕效果 */
    .tags-border-glow {
      box-shadow: 0 0 30px 8px rgba(255, 255, 255, 0.6), 0 0 60px 15px rgba(255, 255, 255, 0.3);
      opacity: 1;
    }
  }
}
